<section class="mb-4">
  <h2>Gestion des formations</h2>
  <p>Liste des formations enregistrAces (admin)</p>
  <button class="btn btn-primary mb-3" (click)="onAdd()">Ajouter une formation</button>

  @if (showAdd()) {
    <app-add-formation (hideDialogEvent)="onHideAdd()"></app-add-formation>
  }

  @if (showUpdate()) {
    <app-update-formation
      [formation]="selectedFormation()"
      (hideDialogEvent)="onHideUpdate()"
    ></app-update-formation>
  }

  @if (formations().length > 0) {
    <div>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>ID</th>
            <th>Titre</th>
            <th>Niveau</th>
            <th>Heures</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          @for (f of formations(); track f.id) {
            <tr>
              <td>{{ f.id }}</td>
              <td>{{ f.titre }}</td>
              <td>{{ f.difficulte }}</td>
              <td>{{ f.heures }}</td>
              <td>
                <button class="btn btn-sm btn-outline-secondary me-1" (click)="onEdit(f)">Modifier</button>
                <button class="btn btn-sm btn-danger" (click)="onDelete(f.id)">Supprimer</button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  } @else {
    <p>Aucune formation disponible.</p>
  }
</section>
